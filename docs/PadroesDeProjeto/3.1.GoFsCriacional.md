# 3.2. Módulo Padrões de Projeto GoFs Criacionais

## Introdução

Ao criar um diagrama de classes uma questão importante que pode gerar muito gargalo de desempenho é identificar de quem é a responsabilidade de instanciação de uma classe, ou mesmo transferir essa responsabilidade e alguns padrões que podem ajudar nessa questão são os GoFs Criacionais, eles focam em como os objetos são criados auxiliando a criar um sistema mais flexível e reutilizável evitando dependências rígidas. São eles em linhas gerais:

1. **Factory Method**: Delega a instanciação para as subclasses, ajuda uma hierarquia muito acessada que pode sofrer gargalo de desempenho;
2. **Abstract Factory**: Delega a instanciação para as subclasses, ajuda uma família de hierarquias muito acessada que pode sofrer gargalo de desempenho;
3. **Builder**: Separa a construção do objeto da sua representação, ajuda na implementação de objetos compostos que podem ser configurados de várias maneiras diferentes;
4. **Prototype**: Tem como objetivo fazer outros objetos a partir de uma cópia, ajuda no desempenho, comum em jogos. Muito útil quando a criação de um novo objeto é cara ou complexa e pode ser simplificada clonando uma instância existente;
5. **Singleton**: Tem como objetivo fazer a criação de uma instância única a qual todo mundo consegue consumir. É útil quando se precisa de exatamente uma instância de uma classe, como em arquivos ou conexão com o banco de dados;
6. **Multiton**: Permite a criação de instâncias e limita a quantidade delas por objeto. Mesma facilitação do singleton, mas em contextos que terão mais de uma instância necessária porém ainda sim com um limite;
7. **Object Pool**: Auxilia no reaproveitamento de objetos. Já deixa os objetos criados para facilitar quanto os usuários forem acessar, muito usado em jogos.

Sendo assim, esses padrões ajudam a lidar com a complexidade da criação de objetos, facilitando a manutenção e a evolução do software ao longo do tempo.

## Prototype

O Prototype é um padrão de projeto de software criacional que visa principal criar novos objetos a partir de um "clone" do modelo original, sem a necessidade de instanciar o modelo. Isso reduz as operações que, outra forma, seriam caras ou complicadas. Esse protótipo permite acessar a interface sem se preocupar com a complexidade de criar novas instâncias do cliente.

Para a utilização do padrão foi avaliado inicialmente a possibilidade desta clonagem ocorrer para a classe Carrinho, que também possui um array de Jogos. Porém, esta opção foi descartada, pois caso fosse implementado deste modo ocorreria uma sobrecarga no método. Posteriormente, foi definido a clonagem de Jogos somente quando estes forem adicionados a Biblioteca privada de um usuário. Assim teremos: 

1. A garantia do acesso ao seu jogo comprado na plataforma, mesmo se ele for retirado do Catálogo ou sofra alguma alteração.
2. Os usuários podem modificar seus jogos sem afetar os jogos do Catálogo ou aqueles possuídos por outros usuários.

Dessa forma, foi elaborado a adaptação do [diagrama de classe](../Modelagem/2.1.1.UMLEstaticos.md) conforme a Figura 01. Assim, quando o usuário adquirisse um jogo, um clone dessa classe jogo (em roxo) seria criado por meio da interface Prototype (em laranja), permitindo assim que o usuário tenha acesso a esse clone na sua biblioteca (em verde).

<center><strong>Figura 01 - Prototype</strong></center>

<center>

![gof_prototype](../assets/gof/prototype.png)

</center>

<div style="text-align:center;">
Autor: João Matheus, João Pedro, Luan Melo, Luciano Ricardo, Pedro Cabeceira, Pedro Henrique e Sabrina
</div>

<details>
    <summary>Implementação em código - Prototype</summary>

![gof_prototype](../assets/gof/prototypeCode.png)

</details>

<details>
    <summary>Output do código - Prototype</summary>

![gof_prototype](../assets/gof/prototypeRun.png)

</details>

## Singleton

<center><strong>Figura 02 - Singleton</strong></center>

<center>

![gof_singleton](../assets/gof/singleton.png)

</center>

<div style="text-align:center;">
Autor: João Matheus, João Pedro, Luan Melo, Luciano Ricardo, Pedro Cabeceira, Pedro Henrique e Sabrina
</div>

<details>
    <summary>Implementação em código - Singleton</summary>

![gof_singleton](../assets/gof/singletonCode.png)

</details>

<details>
    <summary>Output do código - Singleton</summary>

![gof_singleton](../assets/gof/singletonRun.png)

</details>

## Histórico de Versão

| Data       | Versão | Atividade                                                     | Responsável                                                                                                                                                                                                                                                                                                                         |
| ---------- | ------ | ------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 23/07/2023 | 1.0    | Implementação e criação dos GoFs Prototype e Singleton        | [João Matheus](https://github.com/JoaoSchmitz), [João Pedro](https://github.com/uMorbeck), [Luan Melo](https://github.com/luanmq), [Luciano Ricardo](https://github.com/l-ricardo), [Pedro Cabeceira](https://github.com/pkbceira03), [Pedro Henrique](https://github.com/phmelosilva) e [Sabrina](https://github.com/sabrinaberno) |
| 23/07/2023 | 1.1    | Aprimorando encapsulamento e visualização dos dados na código | [Marcus](https://github.com/marcusmartinss)                                                         |
| 24/07/2023 | 1.2    | Adicionando codigo e prints dos outputs   | [Luciano Ricardo](https://github.com/l-ricardo) e [Marcus](https://github.com/marcusmartinss)                                                                                                                                                                                                                                       |
| 24/07/2023 | 1.3    | Adiciona texto introdutório                                   | [Alexia Cardoso](https://github.com/alexianaa)                                                                                                                                                                                                                                                                                      |
| 24/07/2023 | 1.4    | Adiciona texto do Prototype  | [Luan Mateus](https://github.com/luanduartee) e [Raquel Eucaria](https://github.com/raqueleucaria)
  |

## Referências

[1] REFACTORING GURU. Padrões de Projeto. Disponível em: https://refactoring.guru/pt-br/design-patterns. Acesso em: 23 de jul. de 2024.

[2] Richard Carr. blackwasp, 2012. Multiton Design Pattern. Disponível em: https://www.blackwasp.co.uk/multiton.aspx. Acesso em: 24 de jul. de 2024.

[3] Refactoring.guru. Padrões de projeto criacionais. Disponível em: https://refactoring.guru/pt-br/design-patterns/creational-patterns. Acesso em: 24 de jul. de 2024. 

[4] Serrano, Milene. Aprender3. Disponível em: https://aprender3.unb.br/pluginfile.php/2790264/mod_label/intro/Arquitetura%20e%20Desenho%20de%20Software%20-%20Aula%20GoFs%20Criacionais%20-%20Profa.%20Milene.pdf. Acesso em: 24 de jul. de 2024.  

[5] Geeksforgeeks. Prototype Design Pattern. Disponível em: https://www.geeksforgeeks.org/prototype-design-pattern/. Acesso em: 24 de jul. de 2024.  

